<app-modal
  [isOpen]="showEditModal"
  [title]="'Modifier le produit'"
  (closeModal)="toggleEditProduct()"
>
  <form *ngIf="editingModalProduct" (ngSubmit)="updateProductHandler()">
    <div class="form-group">
      <label for="edit-productName">Nom du produit</label>
      <input
        type="text"
        id="edit-productName"
        [(ngModel)]="editingModalProduct.name"
        name="productName"
        required
      />
    </div>

    <div class="form-group">
      <label for="edit-productDescription">Description</label>
      <textarea
        id="edit-productDescription"
        [(ngModel)]="editingModalProduct.description"
        name="productDescription"
        rows="3"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="edit-productPrice">Prix (€)</label>
      <input
        type="number"
        id="edit-productPrice"
        [(ngModel)]="editingModalProduct.price"
        name="productPrice"
        min="0"
        step="0.01"
        required
      />
    </div>

    <div class="form-group">
      <label for="edit-productStock">Stock</label>
      <input
        type="number"
        id="edit-productStock"
        [(ngModel)]="editingModalProduct.totalInventory"
        name="productStock"
        min="0"
        required
      />
    </div>

    <div class="form-group">
      <label>Catégories</label>
      <div class="categories-checkboxes">
        <div *ngFor="let category of categories" class="checkbox-item">
          <input
            type="checkbox"
            [id]="'edit-category-' + category"
            [checked]="isCategorySelected(category)"
            (change)="onCategoryChangeEvent(category, $event)"
          />
          <label [for]="'edit-category-' + category">{{ category }}</label>
        </div>
      </div>
    </div>

    <div class="modal-actions">
      <app-button
        [config]="{
          style: 'save',
          type: 'submit',
          size: 'medium',
          display: 'text',
          text: 'Enregistrer'
        }"
      />
      <app-button
        [config]="{
          style: 'cancel',
          type: 'button',
          size: 'medium',
          display: 'text',
          text: 'Annuler'
        }"
        (onClick)="toggleEditProduct()"
      />
    </div>
  </form>
</app-modal>
