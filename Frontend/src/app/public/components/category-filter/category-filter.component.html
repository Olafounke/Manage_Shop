<div class="category-bar">
  <button class="main-btn" (click)="toggleDropdown()" type="button">
    Catégories
    <span *ngIf="selectedCategory">: {{ selectedCategory }}</span>
    <span [class.open]="dropdownOpen">▼</span>
  </button>
  <button
    *ngIf="selectedCategory"
    class="main-btn clear"
    (click)="clearFilter()"
    type="button"
  >
    Effacer
  </button>

  <div class="dropdown" *ngIf="dropdownOpen">
    <button
      *ngFor="let category of categories"
      class="dropdown-item"
      [class.active]="selectedCategory === category"
      (click)="selectAndClose(category)"
      type="button"
    >
      {{ category }}
    </button>
    <div *ngIf="loading" class="loading">Chargement...</div>
    <div *ngIf="!loading && categories.length === 0" class="no-categories">
      Aucune catégorie
    </div>
  </div>
</div>
